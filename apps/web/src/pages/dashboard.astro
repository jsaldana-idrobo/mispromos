---
import BaseLayout from "../layouts/BaseLayout.astro";
import {
  businessTypes,
  promoTypes,
  daysOfWeek,
  businessTypeLabels,
  promoTypeLabels,
} from "../data/catalog";
import AuthGate from "../components/dashboard/AuthGate.astro";
import BranchModal from "../components/dashboard/BranchModal.astro";
import BranchPanel from "../components/dashboard/BranchPanel.astro";
import BusinessModal from "../components/dashboard/BusinessModal.astro";
import BusinessPanel from "../components/dashboard/BusinessPanel.astro";
import CategoriesPanel from "../components/dashboard/CategoriesPanel.astro";
import CategoryModal from "../components/dashboard/CategoryModal.astro";
import CitiesPanel from "../components/dashboard/CitiesPanel.astro";
import CityModal from "../components/dashboard/CityModal.astro";
import DashboardHero from "../components/dashboard/DashboardHero.astro";
import DashboardLoader from "../components/dashboard/DashboardLoader.astro";
import DashboardMobileHeader from "../components/dashboard/DashboardMobileHeader.astro";
import DashboardMobileMenu from "../components/dashboard/DashboardMobileMenu.astro";
import DashboardSidebar from "../components/dashboard/DashboardSidebar.astro";
import PromoModal from "../components/dashboard/PromoModal.astro";
import PromoPanel from "../components/dashboard/PromoPanel.astro";

const days = daysOfWeek;
---

<BaseLayout title="Tus promos | Dashboard" containerClass="max-w-7xl">
  <DashboardMobileHeader />
  <DashboardMobileMenu />
  <DashboardHero />

  <DashboardLoader />

  <section
    class="grid hidden gap-8 lg:grid-cols-[240px,1fr]"
    data-dashboard-content
  >
    <DashboardSidebar />

    <div class="space-y-6">
      <AuthGate />

      <div class="space-y-6" data-owner-only hidden>
        <PromoPanel promoTypes={promoTypes} promoTypeLabels={promoTypeLabels} />
        <BranchPanel />
        <BusinessPanel
          businessTypes={businessTypes}
          businessTypeLabels={businessTypeLabels}
        />
        <CitiesPanel />
        <CategoriesPanel />
      </div>
    </div>
  </section>

  <PromoModal
    promoTypes={promoTypes}
    promoTypeLabels={promoTypeLabels}
    days={days}
  />
  <BranchModal />
  <BusinessModal
    businessTypes={businessTypes}
    businessTypeLabels={businessTypeLabels}
  />
  <CityModal />
  <CategoryModal />

  <script type="module" src="/dashboard.js" is:inline></script>
</BaseLayout>
